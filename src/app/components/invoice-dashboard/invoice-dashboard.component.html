<div class="grid-container">
    <kendo-grid 
    [data]="gridView"
    [pageSize]="take"
    [skip]="skip"
    [height]="500"
    [pageable]="true"
    (pageChange)="pageChangeHandler($event)" 
    [reorderable]="true"   
    [filterable]="true"
    [filter]="filter"
    (filterChange)="filterChange($event)"
    [groupable]="true"
    [group]="groups"
    (groupChange)="groupChange($event)"
    [sortable]="true"
    [sort]="sort"
    (sortChange)="sortChange($event)" 
    (add)="addHandler($event)"
    (edit)="editHandler($event)"
    (cancel)="cancelHandler($event)"
    (save)="saveHandler($event)"
    (remove)="removeHandler($event)"
    >
    <ng-template kendoGridToolbarTemplate >
        <button class="addInvoice" kendoGridAddCommand><i class="bi bi-plus-lg"></i> New</button>
    </ng-template>
    <kendo-grid-column 
        field="invoice_id"
        title="Invoice ID" 
        [filterable]="false"
        [width]="100"
        >
        <ng-template kendoGridCellTemplate let-gridView>
            {{'INV0' + gridView.id}}
        </ng-template>
    </kendo-grid-column>
    <kendo-grid-column
        field="timesheet_id"    
        title="Timesheet ID"
        [width]="120"
        >
    </kendo-grid-column>
    <kendo-grid-column 
        field="worker_id" 
        title="Worker ID"
        [width]="100"
        >
    </kendo-grid-column>
    <kendo-grid-column 
        field="worker_name" 
        title="Worker Name" 
        [width]="190"
        >
    </kendo-grid-column>
    <kendo-grid-column 
        field="total_amount" 
        title="Total Amount" 
        [width]="140"
        >
    </kendo-grid-column>
    <kendo-grid-column 
        field="organisation"
        title="Organisation" 
        [width]="120"
        >
    </kendo-grid-column>
    <kendo-grid-column 
        field="invoiced_date"
        title="Invoiced Date" 
        [width]="100"
        >
    </kendo-grid-column>
    
    <kendo-grid-column title="Actions" 
        [reorderable]="false"
        >
        <ng-template kendoGridCellTemplate let-isAdd="isNew" let-dataItem>   
            <button kendoGridEditCommand *ngIf="dataItem.invoiced_date===null" (click)="onClick()" class="action-button"><i class="bi bi-filetype-pdf"></i></button>
            <button kendoGridRemoveCommand (click)="onClick()" class="action-button"><i class="bi bi-trash3-fill"></i></button>
            <button kendoGridSaveCommand>{{ isAdd ? 'Add' : "Update" }}</button>
            <button kendoGridCancelCommand>{{ isAdd ? 'Discard Changes' : 'Cancel'}} </button>
            <button *ngIf="dataItem.invoiced_date">Hello0</button>
        </ng-template>
    </kendo-grid-column>
</kendo-grid>
<app-loader [isLoading]="isLoading"></app-loader>
</div>